<!DOCTYPE html>
<html lang="es">

<head>
    <%- include('../partials/all_head.ejs')%>
    <link rel="stylesheet" href="/css/register.css">
    <script src = "/js/userValidations.js"> </script>
    <title>GamePlay - Registro</title>
</head>

<body>
    <header>
        <%- include('../partials/all_header.ejs') %>
    </header>
                <!-- Breadcrumb Start -->
                <main class="product-detail">
                    <div class="breadcrumb">
                        <nav class="breadcrumb bg-light mb-30">
                            <a class="level-01" href="/">Inicio > </a>
                            <a class="level-02" href="/">GamePlayers > </a>
                            <span class="active">Registrarse</span>
                        </nav>
                    </div>
                <!-- Breadcrumb End -->
                
        <h3 class="tituloregistro">REGISTRO</h3>
        <div class="contenedor-registro">
            <div class="social-registro">
                <button class="facebookbutton">
                    <span class="facebook"><i class="fa-brands fa-facebook-square"></i></span>
                    <span class="textofacebook">Registrate con Facebook</span>
                </button>
                <button class="applebutton">
                    <span class="apple"><i class="fa-brands fa-apple"></i></span>
                    <span class="textoapple">Registrate con Apple ID</span></button>
                    <button class="gmailbutton">
                        <span class="gmail"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <title>Gmail icon</title>
                            <path d="M24 4.5v15c0 .85-.65 1.5-1.5 1.5H21V7.387l-9 6.463-9-6.463V21H1.5C.649 
                        21 0 20.35 0 19.5v-15c0-.425.162-.8.431-1.068C.7 3.16 1.076 3 1.5 3H2l10 7.25L22 
                            3h.5c.425 0 .8.162 1.069.432.27.268.431.643.431 1.068z"/></svg></span>
                        <span class="textogmail">Registrate con Gmail</span>
                    </button>
            </div><br>
            <P> O sino<br>
                Por favor completá los datos en el siguiente formulario</P><br>
            <div class="form-registro">
                <form class="registro" action="/usuarios/registro" method="POST" enctype="multipart/form-data">
                    <div class="contenedor-fotoperfil">
                        <p>Foto de perfil</p><br>
                        
                        <label for="urlImagen" class="fotoPerfil"><i class="fa fa-plus" id="plus" aria-hidden="true"></i><img id="preview" src="" width="120px"></label><br>
                        
                        <input type="file" id="urlImagen" name="urlImagen" onchange="showUpload()">

                        <div class="danger">  <% if (locals.errors && errors.image_url) { %>
                            <%= errors.image_url.msg %>
                            <% } %> 
                            <small class="invalid" id="errorImage" ></small>
                        </div>
                    </div>
                    <div class="rowform">
                        <div class="colform">
                            <div class="categoria"> 
                                <label for="nombre" class="datos">Nombre</label>
                                <input type="text" name="first_name" id="nombre" placeholder=" Juan" value="<%= locals.oldData ? oldData.first_name : "" %>">
                                <div class="danger">  <% if (locals.errors && errors.first_name) { %>
                                    <%= errors.first_name.msg %>
                                    <% } %>
                                    <small class="invalid" id="errorFirstName" ></small>
                                 </div> 
                            </div>
                            
                        </div>
                        <div class="colform">
                            <div class="categoria"> 
                                <label for="apellido" class="datos">Apellido</label>
                                <input type="text" name="last_name" id="apellido" placeholder=" Gameplayer" value="<%= locals.oldData ? oldData.last_name : "" %>">
                                <div class="danger">  <% if (locals.errors && errors.last_name) { %>
                                    <%= errors.last_name.msg %>
                                <% } %> </div> <small class="invalid" id="errorLastName" ></small>
                            </div>
                        </div>
                    </div>
                <div class="rowform">
                    <div class="colform">
                        <div class="categoria">
                            <label for="usuario" class="datos">Nombre de usuario</label>
                            <input type="text" name="user" id="user" placeholder=" Usuario" value="<%= locals.oldData ? oldData.user : "" %>" >
                            <div class="danger">  <% if (locals.errors && errors.user) { %>
                                <%= errors.user.msg %>
                            <% } %> </div> <small class="invalid" id="errorUser" ></small>
                        </div>
                    </div>
                    <div class="colform">
                        <div class="categoria">
                            <div class="telefonos">
                                <span class = "telefonos">
                                    <label for="telefono_pais" class="datos">Telefono</label>
                                </span>
                                
                            </div>
                            <div class="telefonos">
                                <span>
                                    <input type="tel" name="phone_country" id="telefono_pais" placeholder=" +54" value="<%= locals.oldData ? oldData.phone_country : "" %>"></span>
                                    <div class="danger">  <% if (locals.errors && errors.phone_country) { %>
                                        <%= errors.phone_country.msg %>
                                    <% } %> <small class="invalid" id="errorPhoneCountry" ></small> </div> 
                                <span> 
                                    <input type="tel" name="phone_number" id="telefono" placeholder=" 1234 5678" value="<%= locals.oldData ? oldData.phone_number : "" %>">
                                </span>
                                <div class="danger">  <% if (locals.errors && errors.phone_number) { %>
                                    <%= errors.phone_number.msg %>
                                <% } %> <small class="invalid" id="errorPhoneNumber" ></small> </div> 
                            </div>
                        </div>
                    </div>
                </div>
                <div class="rowform"> 
                    <div class="colform">   
                        <div class="categoria">
                            <label for="mail" class="datos">E-mail</label>
                            <input type="email" name="email" id="email" placeholder=" juan@gameplay.com" value="<%= locals.oldData ? oldData.email : "" %>">
                            <div class="danger">  <% if (locals.errors && errors.email) { %>
                                <%= errors.email.msg %>
                            <% } %> </div> <small class="invalid" id="errorEmail" ></small>
                        </div><br>
                    </div>
                    <div class="colform">                     
                        <div class="categoria">
                            <label for="nacimiento" class="datos">Fecha de nacimiento</label>
                            <input type="date" name="birth_date" id="nacimiento" min="1900-01-01" value="<%= locals.oldData ? oldData.birth_date : "" %>">
                            <div class="danger">  <% if (locals.errors && errors.birth_date) { %>
                                <%= errors.birth_date.msg %>
                            <% } %> </div> <small class="invalid" id="errorBirthDate" ></small>
                        </div><br>
                    </div>
                </div>
                <div class="rowform">
                    <div class="colform">      
                        <div class="categoria">
                            <label for="domicilio" class="datos">Domicilio</label>
                            <input type="text" name="address" id="domicilio" placeholder=" Av. Gameplay 150" value="<%= locals.oldData ? oldData.address : "" %>">
                            <div class="danger">  <% if (locals.errors && errors.address) { %>
                                <%= errors.address.msg %>
                            <% } %> <small class="invalid" id="errorAddress" ></small> </div> 
                        </div><br>
                    </div>
                    <div class="colform"> 
                        <div class="categoria">

                            <% for (let gender of genders) {%> 
                            <div class="generos">
                                <label for="<%= gender.name %>"><%= gender.name %></label>
                                <input type="radio" name="gender" value="<%= gender.id %>"" id="<%= gender.name %>"
                                    <% if (locals.oldData && locals.oldData.gender == gender.id.toString()){%>
                                        checked="checked"
                                    <%}%>
                                >
                            </div>
                            <% } %> 

                            <br>
                            <br>
                            <br>
                            <div class="danger">  <% if (locals.errors && errors.gender) { %>
                                <%= errors.gender.msg %>
                            <% } %> <small class="invalid" id="errorGender" ></small> </div>
                        </div>
                    </div> 
                </div>                            <!-- Div abajo de los datos -->
                    <section class="perfilusuario">
                        <div class="intereses">
                            <h4>Intereses</h4>
                            <% for (let interest of interests){%>
                            <div>
                                <input type="checkbox" name="interests" value="<%=interest.id%>" id="interest<%=interest.id%>"
                                    <% if (locals.oldData && locals.oldData.interests.includes(interest.id.toString()) ){%>
                                        checked="checked"
                                    <%}%>
                                >
                                <label for="interest<%=interest.id%>"><%=interest.name%></label>
                            </div>
                            <%}%>
                        </div>
                        <div class="danger">  <% if (locals.errors && errors.interests) { %>
                            <%= errors.interests.msg %>
                        <% } %> <small class="invalid" id="errorInterests" ></small> </div> 
                    </section>
                <div class="rowform">
                    <div class="colform">
                        <div class="categoria">
                            <label for="contrasenia">Contraseña</label>
                            <input type="password" name="password" id="contrasenia" value="<%= locals.oldData ? oldData.password : "" %>" placeholder=" ********">
                            <div class="danger">  <% if (locals.errors && errors.password) { %>
                                <%= errors.password.msg %>
                            <% } %> <small class="invalid" id="errorPassword" ></small> </div> 
                        </div><br>
                    </div>
                    <div class="colform">
                        <div class="categoria">
                            <label for="contrasenia2">Confirme contraseña</label>
                            <input type="password" name="password2" id="contrasenia2" value="<%= locals.oldData ? oldData.password2 : "" %>" placeholder=" ********">
                            <div class="danger">  <% if (locals.errors && errors.password2) { %>
                                <%= errors.password2.msg %>
                            <% } %> <small class="invalid" id="errorPassword2" ></small> </div> <br>
                        </div>
                    </div>
                </div>
                <div class="rowform2">    
                    <div class="tyc">
                        <input type="checkbox" name="conditions" value="condiciones" id="condiciones" >
                        <label for="condiciones">Estoy de acuerdo con los <s>Términos y Condiciones</s></label>
                    </div>
                    <div class="danger">  <% if (locals.errors && errors.conditions) { %>
                        <%= errors.conditions.msg %>
                    <% } %> <small class="invalid" id="errorConditions" ></small> </div> <br><br>
                </div>
                    <div>
                        <button type="submit" class="registerbutton">REGISTRATE</button>
                    </div><br>
                    
                </form>
        </div>
    </div>
    </main>
    <%- include ('../partials/all_footer.ejs') %>
    <script type="text/javascript" src="/js/previewUploadedImage.js"></script>
</body>

</html>